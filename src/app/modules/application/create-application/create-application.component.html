<div class="p-4 modal-content">
    <div class="modal-header border-bottom-0 pb-0">
        <div class="fs-20px bold-fonts pb-0">
            Create Application
        </div>
    </div>
    <div class="modal-body">
        <form [formGroup]="applicationForm" (ngSubmit)="submitForm()">
            <div class="mb-4 custom-input"
                [ngClass]="isControlHasError('applicationName','required')? 'custom-input-error': 'custom-input'">
                <label for="applicationName" class="mb-1 primary_color required fw-700 semi-bold-fonts">Name</label>
                <input type="text" class="form-control form-control-lg ps-3 ps-2 fs-14px"
                    formControlName="app_name" placeholder="Enter domain name">
                <small *ngIf="isControlHasError('applicationName','required')" class="mt-1 fs-14px text-danger">Domain
                    name is
                    required</small>
            </div>
            <div class="mb-4 custom-input">
                <label for="appUrl" class="mb-1 primary_color  fw-700 semi-bold-fonts">App URL</label>
                <p>Enter the endpoint where users will be sent after authentication. This URI must match the one registered with your application to ensure secure and correct redirection.</p>
                <input type="text" class="form-control form-control-lg ps-3 fs-14px" placeholder="Enter url"
                    formControlName="url">
                <!-- <span *ngIf="isControlHasError('domainName','required')" class="text-danger">Domain name is
                    required</span> -->
            </div>
            <label for="appUrl" class="mb-1 primary_color  fw-700 semi-bold-fonts">App URL</label>
            <p>A unique identifier for your application. Use this ID to configure and authenticate your application with the service</p>
            <div formArrayName="redirectUri">
              <div *ngFor="let uri of redirectUriArray.controls; let i = index" class="d-flex align-items-center mb-2">
                <input
                  type="text"
                  class="form-control ps-3 fs-14px"
                  placeholder="Enter URI"
                  [formControlName]="i"
                />

                <!-- Add button only for the last input and if less than 5 inputs -->
                <span
                  *ngIf="i === redirectUriArray.controls.length - 1 && redirectUriArray.controls.length < 5"
                  class="primary_button cursor-pointer plus_button ms-2"
                  (click)="addInputUri()"
                >&#x2B;</span>

                <span
                  *ngIf="redirectUriArray.controls.length === 5 && i === redirectUriArray.controls.length - 1"
                  class="primary_button cursor-pointer delete_button ms-2"
                  (click)="resetInputs()"
                >reset</span>
              </div>
            </div>


            <ng-container *ngIf="inputUris.length <= 5">
            <ng-container *ngFor="let item of inputUris">
                <div class="mb-4 custom-input">
                    <!-- <label for="url" class="mb-1 primary_color  fw-700 semi-bold-fonts">Url</label> -->
                    <p class="fs-14px color-8492A6 mb-0 ">Lorem IpsumÂ adalah contoh teks atau dummy dalam huruf</p>
                    <div class="d-flex">
                        <input [(ngModel)]="item.value" type="text" class="form-control  ps-3 fs-14px" placeholder="Enter URI"
                            formControlName="url">
                    </div>
                </div>
            </ng-container>
        </ng-container>

            <div class="modal-footer border-top-0 pe-0 me-0">
                <button type="button" class="cancel_btn me-2 " (click)="closeModal()">Cancel</button>
                <button type="submit" class="primary_button me-0" type="submit">Create</button>
            </div>
        </form>
    </div>
</div>
